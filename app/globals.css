@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --stage-black: #1a1614;
  --stage-dark: #231f1b;
  --stage-mid: #2e2924;
  --stage-border: #3d362f;
  --stage-muted: #6b5f54;
  --stage-text: #c4b8a8;
  --amber-glow: #f59e0b;
  --amber-warm: #d97706;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(245, 158, 11, 0.04) 0%, transparent 70%);
}

/* Sound wave background animations */
@keyframes wave-drift-1 {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(-40px) translateY(-12px); }
  100% { transform: translateX(0) translateY(0); }
}
@keyframes wave-drift-2 {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(30px) translateY(10px); }
  100% { transform: translateX(0) translateY(0); }
}
@keyframes wave-drift-3 {
  0% { transform: translateX(0) translateY(0); }
  33% { transform: translateX(-20px) translateY(-8px); }
  66% { transform: translateX(20px) translateY(8px); }
  100% { transform: translateX(0) translateY(0); }
}

/* Contain Strudel editor visualizations */
.strudel-container {
  position: relative;
}

/* Ensure the CodeMirror editor has proper styling */
.strudel-container .cm-editor {
  position: relative;
  z-index: 10;
  background: rgba(26, 22, 20, 0.95);
}

/* Subtle auto-tick pattern-change pulse */
@keyframes agent-pattern-change-glow {
  0% {
    box-shadow:
      inset 0 0 0 0px var(--agent-glow-color, #f59e0b),
      0 0 0px 0px var(--agent-glow-color, #f59e0b);
    background-color: var(--stage-black);
    border-color: var(--agent-glow-color, #f59e0b);
    transform: scale(1);
  }
  35% {
    box-shadow:
      inset 0 0 24px 2px var(--agent-glow-color, #f59e0b),
      0 0 22px 8px var(--agent-glow-color, #f59e0b);
    background-color: color-mix(in srgb, var(--agent-glow-color, #f59e0b) 16%, var(--stage-black));
    transform: scale(1.01);
    border-color: var(--agent-glow-color, #f59e0b);
  }
  100% {
    box-shadow:
      inset 0 0 0 0px transparent,
      0 0 0px 0px transparent;
    background-color: var(--stage-black);
    border-color: var(--stage-border);
    transform: scale(1);
  }
}

.agent-pattern-change-glow {
  animation: agent-pattern-change-glow 2s ease-out forwards;
}
